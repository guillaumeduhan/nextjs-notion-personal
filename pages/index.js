import Head from 'next/head'
import { Button, Container, Grid, Stack } from '@mui/material';
import { getMainPage } from '../services/api'
import Image from 'next/image'
import Link from 'next/link'
import LinkedIn from '@mui/icons-material/LinkedIn';
import Github from '@mui/icons-material/Github';

const Home = ({ blogData }) => {
  const full = 425
  const middle = 150
  const xsMargin = 16
  const mMargin = 32
  const lgMargin = 64
  return (
    <div>
      <Head>
        <title>Guillaume Duhan - DÃ©veloppeur Front-End Javascript</title>
        <meta name="description" content="Generated by create next app" />
        <link rel="icon" href="/favicon.ico" />
      </Head>
      <main>
        <Container className={'animate__animated animate__fadeIn'} style={{ maxWidth: 1000, marginTop: mMargin }}>
          <center>
            <Grid style={{ marginTop: lgMargin }}>
              <Image src="/main.png" alt="me" width={full} height={full} />
            </Grid>
            {blogData && blogData.map((x, i) => {
              const Component = x.component
              return <Component key={i}>{x.content}</Component>
            })}
            <footer style={{ marginTop: xsMargin }}>
              <Link href="https://www.linkedin.com/in/guillaumeduhan/">
                <LinkedIn color={'primary'} style={{ margin: xsMargin }} />
              </Link>
              <Link href="https://github.com/guillaumeduhan">
                <Github color={'primary'} style={{ margin: xsMargin }} />
              </Link>
              <Stack justifyContent="center" alignItems="center" direction="column" spacing={2}>
                <Button variant="contained" href="https://www.malt.fr/profile/guillaumed">Me recruter sur Malt</Button>
              </Stack>
            </footer>
          </center>
        </Container>
      </main>
    </div >
  )
}


export async function getStaticProps({ params }) {
  const blogData = await getMainPage()
  return {
    props: {
      blogData
    }
  }
}

export default Home